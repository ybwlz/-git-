@startuml
!theme cerulean
skinparam backgroundColor #FFFFFF
skinparam sequence {
    ArrowColor #2C3E50
    ActorBorderColor #2980B9
    LifeLineBorderColor #2980B9
    LifeLineBackgroundColor #A9DCDF
    
    ParticipantBorderColor #2980B9
    ParticipantBackgroundColor #A9DCDF
    ParticipantFontName 微软雅黑
    ParticipantFontSize 17
    ParticipantFontColor #2C3E50
    
    ActorBackgroundColor #A9DCDF
    ActorFontColor #2C3E50
    ActorFontSize 17
    ActorFontName 微软雅黑
}

actor 教师 as Teacher
participant "前端界面" as Frontend #A9DCDF
participant "服务器" as Server #A9DCDF
database "数据库" as DB #A9DCDF
database "文件存储" as Storage #A9DCDF

Teacher -> Frontend: 进入曲谱管理页面
Frontend -> Server: 请求曲谱列表
Server -> DB: 查询曲谱数据
DB --> Server: 返回曲谱列表
Server --> Frontend: 返回曲谱数据
Frontend --> Teacher: 显示曲谱列表

Teacher -> Frontend: 上传曲谱文件和信息
Frontend -> Server: 上传曲谱数据
Server -> Storage: 存储曲谱文件
Storage --> Server: 返回文件路径
Server -> DB: 保存曲谱信息
DB --> Server: 返回操作结果

alt 上传成功
    Server --> Frontend: 返回成功信息
    Frontend --> Teacher: 显示"曲谱上传成功"提示
else 上传失败
    Server --> Frontend: 返回错误信息
    Frontend --> Teacher: 显示错误提示
end

Teacher -> Frontend: 分配曲谱给学生
Frontend -> Server: 发送曲谱分配请求
Server -> DB: 保存曲谱分配记录
DB --> Server: 返回操作结果
Server --> Frontend: 返回操作结果
Frontend --> Teacher: 显示操作结果提示

@enduml 